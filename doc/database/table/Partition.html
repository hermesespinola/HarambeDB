<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_111) on Sun Nov 27 13:17:50 CST 2016 -->
<title>Partition</title>
<meta name="date" content="2016-11-27">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Partition";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":17,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../database/table/HarambePartition.html" title="class in database.table"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../database/table/Table.html" title="class in database.table"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?database/table/Partition.html" target="_top">Frames</a></li>
<li><a href="Partition.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">database.table</div>
<h2 title="Interface Partition" class="title">Interface Partition&lt;PrimaryKey extends java.lang.Comparable&lt;? super PrimaryKey&gt;&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../database/table/HarambePartition.html" title="class in database.table">HarambePartition</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">Partition&lt;PrimaryKey extends java.lang.Comparable&lt;? super PrimaryKey&gt;&gt;</span></pre>
<div class="block">A partition interface that defines the required methods for a class to
 correctly work with the Table class.

 The partition should save the .hbpt file inside the table directory and
 contain an unique ID to identify the partition from other partitions, as the
 partition file is named with the prefix pt plus the partition ID and the
 partition extension.

 Due to the fact that the row containing the minimum key could be removed from
 a partition we need to either sort the keys in the partition or store the
 sorted keys of the partition in order to update the minimum key in the AVL
 tree. The current implementation of the partition stores the primary keys in
 a sorted list, this duplicates the space complexity of the PrimaryKey column
 but avoid performing a sort operation over the whole partition. A new class
 implementing the Partition interface performing the sorting should be
 relatively easy to write and should be used if the THRESHOLD is reasonably small.

 <p>This class is a member of the
 <a href="../../index.html" target="_top">
 HarambeDB database framework</a>.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../database/table/Table.html" title="class in database.table"><code>Table</code></a>, 
<a href="../../database/table/row/Row.html" title="interface in database.table.row"><code>Row</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../database/table/Partition.html#extension">extension</a></span></code>
<div class="block">The extension of the partition files</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../database/table/Partition.html#prefix">prefix</a></span></code>
<div class="block">The prefix of the partition file name</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../database/table/Partition.html#addRow-PrimaryKey-database.table.row.Row-">addRow</a></span>(<a href="../../database/table/Partition.html" title="type parameter in Partition">PrimaryKey</a>&nbsp;key,
      <a href="../../database/table/row/Row.html" title="interface in database.table.row">Row</a>&nbsp;row)</code>
<div class="block">Adds a row to the partition</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>structures.list.List&lt;<a href="../../database/table/Partition.html" title="type parameter in Partition">PrimaryKey</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../database/table/Partition.html#getKeys--">getKeys</a></span>()</code>
<div class="block">A sorted list containing the primary keys of the partition</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../database/table/row/Row.html" title="interface in database.table.row">Row</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../database/table/Partition.html#getRow-PrimaryKey-">getRow</a></span>(<a href="../../database/table/Partition.html" title="type parameter in Partition">PrimaryKey</a>&nbsp;key)</code>
<div class="block">Retrieves the row with the specified primary key</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static &lt;K extends java.lang.Comparable&lt;? super K&gt;&gt;<br><a href="../../database/table/Partition.html" title="interface in database.table">Partition</a>&lt;K&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../database/table/Partition.html#load-java.lang.String-int-">load</a></span>(java.lang.String&nbsp;tablePath,
    int&nbsp;partitionNumber)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../database/table/Partition.html#partitionNumber--">partitionNumber</a></span>()</code>
<div class="block">Retrieves the partition ID</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../database/table/Partition.html#path--">path</a></span>()</code>
<div class="block">The path of to the partition file</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../database/table/Partition.html#removeRow-PrimaryKey-">removeRow</a></span>(<a href="../../database/table/Partition.html" title="type parameter in Partition">PrimaryKey</a>&nbsp;key)</code>
<div class="block">Removes a row from the partition</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>structures.dict.Dict&lt;<a href="../../database/table/Partition.html" title="type parameter in Partition">PrimaryKey</a>,<a href="../../database/table/row/Row.html" title="interface in database.table.row">Row</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../database/table/Partition.html#rows--">rows</a></span>()</code>
<div class="block">The dictionary containing all the rows in the partition</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../database/table/Partition.html#save--">save</a></span>()</code>
<div class="block">Save the partition in a .hbpt file</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../database/table/Partition.html#size--">size</a></span>()</code>
<div class="block">Retrieves the number of rows in the partition</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="extension">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extension</h4>
<pre>static final&nbsp;java.lang.String extension</pre>
<div class="block">The extension of the partition files</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../constant-values.html#database.table.Partition.extension">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="prefix">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>prefix</h4>
<pre>static final&nbsp;java.lang.String prefix</pre>
<div class="block">The prefix of the partition file name</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../constant-values.html#database.table.Partition.prefix">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="load-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>load</h4>
<pre>static&nbsp;&lt;K extends java.lang.Comparable&lt;? super K&gt;&gt;&nbsp;<a href="../../database/table/Partition.html" title="interface in database.table">Partition</a>&lt;K&gt;&nbsp;load(java.lang.String&nbsp;tablePath,
                                                                     int&nbsp;partitionNumber)</pre>
</li>
</ul>
<a name="save--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>save</h4>
<pre>void&nbsp;save()
   throws <a href="../../database/HarambException.html" title="class in database">HarambException</a></pre>
<div class="block">Save the partition in a .hbpt file</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../database/HarambException.html" title="class in database">HarambException</a></code> - If there is an error writing the partition file</dd>
</dl>
</li>
</ul>
<a name="path--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>path</h4>
<pre>java.lang.String&nbsp;path()</pre>
<div class="block">The path of to the partition file</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The path to the partition file</dd>
</dl>
</li>
</ul>
<a name="getKeys--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeys</h4>
<pre>structures.list.List&lt;<a href="../../database/table/Partition.html" title="type parameter in Partition">PrimaryKey</a>&gt;&nbsp;getKeys()</pre>
<div class="block">A sorted list containing the primary keys of the partition</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A sorted list containing the primary keys of the partition</dd>
</dl>
</li>
</ul>
<a name="addRow-java.lang.Comparable-database.table.row.Row-">
<!--   -->
</a><a name="addRow-PrimaryKey-database.table.row.Row-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addRow</h4>
<pre>void&nbsp;addRow(<a href="../../database/table/Partition.html" title="type parameter in Partition">PrimaryKey</a>&nbsp;key,
            <a href="../../database/table/row/Row.html" title="interface in database.table.row">Row</a>&nbsp;row)
     throws <a href="../../database/HarambException.html" title="class in database">HarambException</a></pre>
<div class="block">Adds a row to the partition</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The primary of the row to add</dd>
<dd><code>row</code> - The row to add to the partition</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../database/HarambException.html" title="class in database">HarambException</a></code> - If the primary key is already in the partition</dd>
</dl>
</li>
</ul>
<a name="getRow-java.lang.Comparable-">
<!--   -->
</a><a name="getRow-PrimaryKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRow</h4>
<pre><a href="../../database/table/row/Row.html" title="interface in database.table.row">Row</a>&nbsp;getRow(<a href="../../database/table/Partition.html" title="type parameter in Partition">PrimaryKey</a>&nbsp;key)</pre>
<div class="block">Retrieves the row with the specified primary key</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The primary of the row to get</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The row with primary key equals to key, null if there is no such row</dd>
</dl>
</li>
</ul>
<a name="removeRow-java.lang.Comparable-">
<!--   -->
</a><a name="removeRow-PrimaryKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeRow</h4>
<pre>boolean&nbsp;removeRow(<a href="../../database/table/Partition.html" title="type parameter in Partition">PrimaryKey</a>&nbsp;key)
           throws <a href="../../database/HarambException.html" title="class in database">HarambException</a></pre>
<div class="block">Removes a row from the partition</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The primary of the row to remove</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>If the removed key was the minimum key in the partition</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../database/HarambException.html" title="class in database">HarambException</a></code> - If the primary key is already in the partition</dd>
</dl>
</li>
</ul>
<a name="partitionNumber--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>partitionNumber</h4>
<pre>int&nbsp;partitionNumber()</pre>
<div class="block">Retrieves the partition ID</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The partition ID</dd>
</dl>
</li>
</ul>
<a name="size--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>int&nbsp;size()</pre>
<div class="block">Retrieves the number of rows in the partition</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of rows in the partition</dd>
</dl>
</li>
</ul>
<a name="rows--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>rows</h4>
<pre>structures.dict.Dict&lt;<a href="../../database/table/Partition.html" title="type parameter in Partition">PrimaryKey</a>,<a href="../../database/table/row/Row.html" title="interface in database.table.row">Row</a>&gt;&nbsp;rows()</pre>
<div class="block">The dictionary containing all the rows in the partition</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The dictionary containing all the rows in the partition</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../database/table/HarambePartition.html" title="class in database.table"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../database/table/Table.html" title="class in database.table"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?database/table/Partition.html" target="_top">Frames</a></li>
<li><a href="Partition.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
